(()=>{"use strict";var e,t={1343:(e,t,n)=>{n.d(t,{Z:()=>c});var l=n(4933),r=n.n(l),o=n(3476),a=n.n(o)()(r());a.push([e.id,'body{background-color:#f5f5f5;width:320px;height:112px;color:#0f110f;font-family:"roboto"}',""]);const c=a},7585:(e,t,n)=>{var l=n(7378),r=n(7634),o=(n(6658),n(1892)),a=n.n(o),c=n(5760),s=n.n(c),i=n(8311),u=n.n(i),m=n(8192),d=n.n(m),g=n(8060),p=n.n(g),h=n(4865),E=n.n(h),k=n(1343),b={};b.styleTagTransform=E(),b.setAttributes=d(),b.insert=u().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=p(),a()(k.Z,b),k.Z&&k.Z.locals&&k.Z.locals;var v=n(4206),f=n.n(v);const y=({token:e})=>{console.log(e,"token from TextBox");const[t,n]=(0,l.useState)(e),[r,o]=(0,l.useState)(!1),[a,c]=(0,l.useState)(""),[s,i]=l.useState(null),[u,m]=l.useState(null),[d,g]=(0,l.useState)(!1);l.useEffect((()=>{chrome.tabs.query({currentWindow:!0,active:!0},(function(e){var t;i((t=e[0].url).includes("youtube.com")?t.split("&")[0]:t),m(e[0].title),console.log("title",e[0].title)}))}),[]);const p={title:u,url:s,description:"",tags:"",isPrivate:!1,isError:!1,code:""},[h,E]=(0,l.useState)(p),[k,b]=(0,l.useState)([]),v=n=>{if(console.log(n.target.type,"e.target.type",n.target.id,"e.target.id",n.target.checked,"e.target.checked",e,t),"checkbox"===n.target.type)return void E(Object.assign(Object.assign({},h),{[n.target.id]:n.target.checked}));console.log(e,"token from onChangeHandler");const{value:l,id:r}=n.target;"tags"===r&&(console.log(l),E(Object.assign(Object.assign({},h),{[r]:l.split(",")}))),console.log(h,"post",t,"tokenFromMain"),E(Object.assign(Object.assign({},h),{[r]:l}))},y={container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start",width:"100%"},input:{width:"80%",height:"20%"},button:{width:"100%",height:"30px"},label:{width:"100%",height:"30px",marginBottom:"1px"}};return l.createElement(l.Fragment,null,l.createElement("form",{onSubmit:e=>{e.preventDefault();const n=h.title,l=h.description;console.log(h.tags,"Post tags Before");let r=h.tags.split(",");r=r.map((e=>e.trim())),r=r.filter((e=>""!==e)),r=r.map((e=>e.toLowerCase())),r=[...new Set(r)],console.log(r,"tags After");const a={title:n,url:s,description:l,tags:r,code:h.code,isPrivate:h.isPrivate,isError:h.isError},c=JSON.stringify(a);console.log(c,"stringifyData"),l.length>4&&(o(!0),f().post("https://camel-bedclothes.cyclic.app/bookmarks",a,{headers:{Authorization:`Bearer ${t}`}}).then((e=>{console.log(e),console.log(e.data,"res.data"),g(!0),o(!1),setTimeout((()=>{g(!1)}),2e3),E(p)})).catch((e=>{console.log("This is Error Message= ",e)})))},style:y.container},l.createElement("br",null),l.createElement("label",{style:y.label,htmlFor:"title"},"Title"),l.createElement("input",{style:y.input,value:h.title,id:"title",onChange:e=>v(e),type:"text",autoCapitalize:"on",autoCorrect:"on",autoComplete:"on",autoSave:"on"}),l.createElement("br",null),l.createElement("label",{style:y.label,htmlFor:"description"},"Description"),l.createElement("textarea",{id:"description",onChange:e=>v(e),value:h.description,required:!0,style:y.input,autoFocus:!0}),l.createElement("br",null),l.createElement("label",{style:y.label,htmlFor:"code"},"Code"),l.createElement("textarea",{style:y.input,id:"code",onChange:e=>v(e),value:h.code}),l.createElement("br",null),l.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.createElement("label",{style:y.label,htmlFor:"isPrivate"},"Is Private"),l.createElement("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",value:"isPrivate",onChange:e=>v(e)}),l.createElement("label",{style:y.label,htmlFor:"isPrivate"},"Is this Error"),l.createElement("input",{type:"checkbox",id:"isError",name:"isError",value:"isError",onChange:e=>v(e)})),l.createElement("label",{style:y.label,htmlFor:"tags"},"Tags"),l.createElement("input",{style:y.input,value:h.tags,id:"tags",onChange:e=>v(e),autoComplete:"on"}),l.createElement("br",null),l.createElement("input",{style:y.input,type:"submit",value:"BookMark"})),l.createElement("br",null),r&&l.createElement("div",null,l.createElement("h1",null,"Posting Please wait")),d&&l.createElement("div",null,l.createElement("h1",null,"Bookmark Posted Successfully")),l.createElement("p",null,s))},S=({bookmarks:e})=>{const[t,n]=l.useState(!1),r=e=>{e.target.value.startsWith("```")&&e.target.value.endsWith("```")&&(e.target.value=e.target.value.replace(/```/g,"")),navigator.clipboard.writeText(e.target.value)};return l.createElement(l.Fragment,null,l.createElement("div",{id:"mainBookmark"},e.map((e=>l.createElement("div",{key:e._id},l.createElement("h1",null,e.title),l.createElement("p",null,e.description),l.createElement("p",null,function(e){console.log(e,"code"),e=""===e||null==e?"Code shown here":e;return l.createElement("pre",{style:{backgroundColor:"black",color:"white",padding:"10px",borderRadius:"5px",fontSize:"12px"}},l.createElement("code",null,e))}(e.code)),l.createElement("a",{href:e.url},e.url),l.createElement("p",null,e.tags.map(((e,t)=>l.createElement("span",{key:t},"#",e," ")))),l.createElement("button",{onClick:()=>{return l=e._id,console.log("deleteBookmark",l),void f().delete(`https://camel-bedclothes.cyclic.app/bookmarks/${l}`).then((e=>{console.log(e),n(!t)}));var l}},"delete"),l.createElement("button",{onClick:r,value:e.description},"Copy Description"),l.createElement("button",{onClick:r,value:e.code},"Copy Code"))))))},C=({token:e})=>{const[t,n]=(0,l.useState)(e),[r,o]=(0,l.useState)([]),[a,c]=(0,l.useState)(!1),[s,i]=l.useState(null),[u,m]=(0,l.useState)(!1),d=new AbortController;(0,l.useEffect)((()=>(chrome.tabs.query({currentWindow:!0,active:!0},(function(e){console.log(e[0].url,"tabs[0].url"),i((()=>e[0].url)),g(e[0].url)})),()=>{d.abort()})),[]);const g=e=>f().get("https://camel-bedclothes.cyclic.app/bookmarks/private/search?s="+e,{signal:d.signal,headers:{Authorization:`Bearer ${t}`}}).then((e=>{console.log(e.data,"then from getBookmarkFromURL"),o(e.data),c(!1)})).catch((e=>{console.log(e),c(!0)}));return l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement(S,{bookmarks:r})))},x="https://camel-bedclothes.cyclic.app",w=({currentTab:e,token:t})=>{const[n,r]=(0,l.useState)(t),[o,a]=(0,l.useState)(""),[c,s]=(0,l.useState)([]),[i,u]=(0,l.useState)(!1),m=new AbortController;(0,l.useEffect)((()=>()=>{m.abort()}),[]);const d=()=>{s([]),""===o&&a(e),console.log(o,"GetURL from getBookmarkFromURL",e),f().get(`${x}/bookmarks/search?s=${o}`,{signal:m.signal,headers:{Authorization:`Bearer ${n}`}}).then((e=>{if(console.log(e.data,"then from getBookmarkFromURL"),0===e.data.length)return l.createElement("div",null,"No Bookmark Found");s(e.data)})).catch((e=>{console.log(e)}))};return l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("input",{type:"text",id:"url",onChange:e=>{const{value:t,id:n}=e.target;a(t)},onKeyDown:e=>(e=>{"Enter"===e.key&&d()})(e),value:o,placeholder:"Search Query"}),l.createElement("br",null),l.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px"}},l.createElement("button",{onClick:()=>{s([]),""===o&&a(e),console.log(o,"GetURL from getBookmarkFromURL",e),f().get(`${x}/bookmarks/private/search?s=${o}`,{signal:m.signal,headers:{Authorization:`Bearer ${n}`}}).then((e=>{if(console.log(e.data,"then from getPersonalBookmarkFromURL"),0===e.data.length)return l.createElement("div",null,"No Bookmark Found");s(e.data)}))}},"Get My Bookmark"),l.createElement("button",{onClick:d},"Get Bookmark")),l.createElement("p",null,"searchTearm: ",o," ")),l.createElement(S,{bookmarks:c}),l.createElement("br",null))},O=(e,t)=>{switch(t.type){case"LOGIN_SUCCESS":return((e,t)=>Object.assign(Object.assign({},e),{token:t.token,isAuthenticated:!0,loading:!1}))(e,t);case"LOGIN_FAILURE":return((e,t)=>Object.assign(Object.assign({},e),{error:t.error,loading:!1}))(e,t);case"LOGOUT":return((e,t)=>Object.assign(Object.assign({},e),{token:null,isAuthenticated:!1}))(e);default:return e}},B={token:null,isAuthenticated:!1,loading:!0,error:null},F=(0,l.createContext)(typeof B),L=({getTokenFrom:e})=>{const[t,n]=l.useState(""),[r,o]=l.useState(""),[a,c]=l.useState(!1),[s,i]=l.useState(""),u=(0,l.useContext)(F);return console.log("state from context",u),l.createElement("form",{onSubmit:n=>{if(n.preventDefault(),""!==t&&""!==r)return i(""),f().post("https://camel-bedclothes.cyclic.app/users/login",{email:t,password:r,keepMeLogin:a}).then((t=>{console.log("TOKEN res.data",t.data),chrome.storage.sync.set({token:t.data.token},(()=>{e(t.data.token),console.log("saved")}))})).catch((e=>{i("Invalid Credentials"),console.log(e)}));i("Please fill all the fields")}},l.createElement("div",{className:"login"},l.createElement("div",{className:"login__container"},l.createElement("h1",null,"Login Shodkk"),l.createElement("input",{type:"text",placeholder:"Email",value:t,required:!0,autoComplete:"on",onChange:e=>n(e.target.value)}),l.createElement("input",{type:"password",placeholder:"Password",value:r,required:!0,onChange:e=>o(e.target.value)}),l.createElement("br",null),l.createElement("div",{className:"error"},s),l.createElement("br",null),l.createElement("div",null,l.createElement("input",{type:"checkbox",name:"keepMeLogin",id:"keepMeLogin",onChange:e=>c(e.target.checked)}),l.createElement("label",{htmlFor:"keepMeLogin"},"Keep me login")),l.createElement("div",null,l.createElement("p",null,l.createElement("a",{href:"https://google.com",target:"_blank"},"Forgot Password?")),l.createElement("p",null,l.createElement("a",{href:"https://google.com",target:"_blank"},"Create an Account"))),l.createElement("input",{type:"submit",value:"Login"}))))},P=({deleteToken:e})=>l.createElement("div",null,l.createElement("button",{onClick:()=>{chrome.storage.sync.set({token:null},(()=>{e(null),console.log("saved")}))}},"Logout")),j=document.getElementById("root-popup");(0,r.s)(j).render(l.createElement((({children:e})=>{const[t,n]=(0,l.useReducer)(O,B);return l.createElement(l.Fragment,null,e)}),null,l.createElement((()=>{const[e,t]=l.useState(!1),[n,r]=l.useState(null),[o,a]=l.useState(!1),[c,s]=l.useState(!1),[i,u]=l.useState(null);l.useEffect((()=>{chrome.tabs.query({currentWindow:!0,active:!0},(function(e){console.log(e[0].url),u(e[0].url)}))}),[]);const[m,d]=l.useState(null);return l.useEffect((()=>{chrome.storage.sync.get(["token"],(function(e){console.log("Value currently is "+e.token),d(e.token)}))}),[]),m||n?l.createElement("div",null,l.createElement("p",null,l.createElement("b",null,"Hi Shodkk Start Learning in Public")),l.createElement("div",null,l.createElement("p",null),l.createElement("button",{onClick:()=>{console.log("renderTextBox",o),a(!o),s(!1),t(!1)}},"Add Bookmark"),o&&l.createElement(y,{token:m})),l.createElement("div",null,l.createElement("p",null),l.createElement("button",{onClick:()=>{console.log("renderGetBookmark",e),t(!e),s(!1),a(!1)}},"Get Bookmark"),e&&l.createElement(C,{token:m})),l.createElement("div",null,l.createElement("p",null),l.createElement("button",{onClick:()=>{console.log("renderGetURL",c),s(!c),a(!1),t(!1)}},"Get Bookmark from URL"),l.createElement("p",null),c&&l.createElement(w,{currentTab:i,token:m}),l.createElement("p",null)),l.createElement("div",{style:{position:"absolute",right:"0",bottom:"0",padding:"10px"}}),l.createElement(P,{deleteToken:r})):l.createElement(L,{getTokenFrom:r})}),null)))}},n={};function l(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={id:e,exports:{}};return t[e](o,o.exports,l),o.exports}l.m=t,e=[],l.O=(t,n,r,o)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],c=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(c=!1,o<a&&(a=o));if(c){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{l.b=document.baseURI||self.location.href;var e={42:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,c,s]=n,i=0;if(a.some((t=>0!==e[t]))){for(r in c)l.o(c,r)&&(l.m[r]=c[r]);if(s)var u=s(l)}for(t&&t(n);i<a.length;i++)o=a[i],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},n=self.webpackChunkcodingshodkk_extension=self.webpackChunkcodingshodkk_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.nc=void 0;var r=l.O(void 0,[698,885],(()=>l(7585)));r=l.O(r)})();